---
author: pkrebs
ms.author: pkrebs
title: Ручная настройка путей обучения
ms.date: 07/06/2020
description: Microsoft 365 ручная настройка путей обучения
ms.service: sharepoint-online
manager: bpardi
ms.topic: article
ms.openlocfilehash: 05df35787399cfb2445fa3ea4193e7f7f64848c5
ms.sourcegitcommit: 956ab22dd8ce23ee1779f1a01d34b434243c3cb1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/11/2021
ms.locfileid: "52310443"
---
# <a name="learning-pathways-manual-setup"></a>Ручная настройка путей обучения

Microsoft 365 обучения предлагает ручную настройку для организаций, которые нуждаются в поддержке одного из следующих сценариев: 

- Ваша организация имеет установленный SharePoint веб-сайт современной связи, посвященный обучению, и вы хотите добавить пути обучения к этому сайту. В этом сценарии веб-часть путей обучения не была настроена на сайте.

- Необходимо установить пути обучения для многоязычной поддержки на одном из сайтов SharePoint связи. Сайт имеет или будет иметь язык по умолчанию, который не является английским и является одним из языков, поддерживаемых путями обучения. Вот языки, поддерживаемые путями обучения:

- Английский
- Китайский (упрощенное письмо)
- французский;
- немецкий;
- Итальянский (Италия)
- Японский (Япония)
- Португальский (Бразилия)
- Русский (русский)
- Испанский

Ручная настройка путей обучения требует опыта работы с Windows PowerShell и SharePoint online Management Shell. Ниже представлен обзор действий по ручной настройке путей обучения: 

- Проверка того, что вы выполнили все необходимые условия.
- Проверьте параметры языка по умолчанию для вашего сайта. Если ОК, продолжайте ручную установку. Если требуется другой язык по умолчанию, необходимо создать новый сайт. 
- Установите файл customlearning.sppkg в каталоге SharePoint клиентских приложений.
- Provision/identify a modern communication site to act as your Microsoft 365 learning pathways home site.
- Выполните сценарий PowerShell, который настроит клиента с помощью артефактов, от которых зависят пути обучения.
- Перейдите на страницу сайта CustomLearningAdmin.aspx, чтобы загрузить веб-часть администратора для инициализации конфигурации настраиваемого контента.

## <a name="prerequisites"></a>Предварительные условия
Чтобы обеспечить успешную ручную настройку веб-части учебных путей, необходимо добиться следующих необходимых условий. 

- Необходимо настроить и настроить каталог приложений для всех клиентов. См. [раздел Настройка Office 365 клиента](/sharepoint/dev/spfx/set-up-your-developer-tenant#create-app-catalog-site) и раздел "Создание каталога приложений". 
- Если каталог приложений для всех клиентов уже был предварительно размещен, вам потребуется доступ к учетной записи, которая имеет права на отправку пакета в нее. Как правило, эта учетная запись SharePoint администратора. 
- Если учетная запись с этой ролью не работает, перейдите в центр администрирования SharePoint и найдите администраторов коллекции сайтов в каталоге приложений и войдите в качестве одного из администраторов коллекции сайтов, или добавьте учетную запись администратора SharePoint, которая не удалось администраторам коллекции сайтов. 
- Вам также потребуется доступ к учетной записи, которая является администратором SharePoint клиента.

## <a name="step-1---check-your-language-settings"></a>Шаг 1 . Проверка параметров языка
В качестве первого шага ручного процесса установки проверьте параметры языка сайта. Вот возможные варианты:

### <a name="option-1---you-dont-want-multilingual-support"></a>Вариант 1. Вам не нужна многоязычная поддержка
Если вам не нужна многоязычная поддержка сайта, убедитесь, что он отключен.
1.  На сайте SharePoint выберите Параметры для просмотра **всех** параметров языковых  >    >    >  **параметров сайта.** 
2.  Установите **включение страниц и новостей, которые будут переведены** на несколько языков, переключиться на **Off**.
3.  Нажмите кнопку **Сохранить**. 
4.  Продолжить шаг 2.

## <a name="option-2---you-want-multilingual-support-and-youre-ok-with-the-default-language"></a>Вариант 2 . Вы хотите многоязычную поддержку и вы в порядке с языком по умолчанию
Сайт SharePoint связи имеет язык по умолчанию. Язык по умолчанию определяет язык, на котором рассматриваются пути обучения, в том числе страницу администрирования путей обучения. Параметр языка по умолчанию устанавливается при первом создании сайта и не может быть изменен после этого. Перед продолжением ручной установки убедитесь, что вы в порядке с языком по умолчанию целевого сайта.

1.  На сайте SharePoint выберите Параметры для просмотра **всех** параметров языковых  >    >    >  **параметров сайта.** 
2.  Установите  **включение страниц и новостей, которые будут переведены** на несколько языков.
    - Если вы в порядке с языком, который отображается в верхней части списка в **language,** вы можете добавить дополнительные языки, а затем нажмите **кнопку Сохранить**. Продолжить шаг 2.
    - Если требуется другой язык по умолчанию, чем выбранный для сайта, необходимо создать новый сайт SharePoint связи с нужным языком. Продолжить параметр 3. 

## <a name="option-3---you-want-multilingual-support-but-want-a-different-default-language-for-the-site"></a>Параметр #3 . Вы хотите многоязычную поддержку, но хотите другой язык по умолчанию для сайта
С помощью этого параметра создается новый сайт SharePoint online с нужным языком по умолчанию, а затем устанавливаются параметры языка для сайта. 
1.  Чтобы создать новый сайт SharePoint связи, см. в [веб-сайте Create a communication site in SharePoint Online.](https://support.microsoft.com/office/create-a-communication-site-in-sharepoint-online-7fb44b20-a72f-4d2c-9173-fc8f59ba50eb) При создании сайта обязательно установите язык языку по умолчанию, который нужен для путей обучения. 
2. На созданном сайте выберите **Параметры** сведения о сайте Просмотреть все параметры сайта  >    >    >  **Языковые параметры**. 
2.  Установите  **включение страниц и новостей, которые будут переведены** на несколько языков.
3. При необходимости добавьте дополнительные языки и нажмите кнопку **Сохранить**. 
4. Продолжить шаг 2. 

>! [Примечание] Если требуется перенести пользовательский контент с сайта на недавно созданный сайт, см. в разделе "Миграция настраиваемого контента" в этом документе. 

## <a name="step-2---get-the-web-part-package-and-setup-script-from-github"></a>Шаг 2 . Получить пакет веб-части и сценарий установки из GitHub
В процессе настройки вам потребуется пакет веб Microsoft 365 путей обучения и сценарий установки PowerShell.

- Перейдите [по пути обучения GitHub Репозиторий](https://github.com/pnp/custom-learning-office-365).
- Нажмите **кнопку Скачать,** чтобы сохранить пакет веб-части и скрипт на локальном диске. Сценарий и пакет веб-части будут использоваться в последующих шагах этого процесса.

## <a name="step-2---upload-the-web-part-to-the-tenant-app-catalog"></a>Шаг 2 — Upload веб-часть каталога приложений клиента
Чтобы настроить Microsoft 365 пути обучения, загрузите файл customlearning.sppkg в каталог приложений для клиента и развернете его. Подробные инструкции по добавлению приложения в каталог приложений см. в книге "Использование каталога приложений", чтобы сделать настраиваемые [бизнес-приложения](/sharepoint/use-app-catalog) доступными для среды SharePoint в Интернете.

## <a name="step-3---provisionidentify-a-modern-communication-site"></a>Шаг 3 . Подготовка и определение современного сайта связи
Либо определите существующий сайт SharePoint связи, либо задайте новый в клиенте SharePoint Online. Дополнительные сведения о предоставлении сайта связи см. в веб-сайте [Create a communication site in SharePoint Online](https://support.office.com/article/create-a-communication-site-in-sharepoint-online-7fb44b20-a72f-4d2c-9173-fc8f59ba50eb) и следуйте шагам по созданию сайта связи.

## <a name="step-4---add-the-microsoft-365-learning-pathways-app-to-the-site"></a>Шаг 4 . Добавление приложения Microsoft 365 путей обучения на сайт

1. На сайте SharePoint щелкните меню System, а затем нажмите **кнопку Добавить приложение**. 
2. В **статье Приложения** нажмите **кнопку Из организации,** а затем щелкните пути обучения **для Office 365**. 

## <a name="step-5---set-permissions-for-the-site"></a>Шаг 5 . Настройка разрешений для сайта
Убедитесь, что для сайта установлены следующие разрешения:
- **Администратор коллекции сайтов или** часть группы Owners . Разрешения, необходимые для инициализации элемента списка CustomConfig, который задает пути обучения для его первого использования. 
- **Группа участников** — разрешения, необходимые для администрирования путей обучения, включая сокрытие и отображение контента, а также администрирование пользовательских списков воспроизведения
- **Группа посетителей** — разрешения, необходимые для просмотра контента сайта. 

## <a name="step-6--execute-powershell-configuration-script"></a>Шаг 6. Выполнение сценария конфигурации PowerShell
Сценарий PowerShell включен, который необходимо выполнить для создания трех свойств `CustomLearningConfiguration.ps1` клиента, которые использует решение. [](/sharepoint/dev/spfx/tenant-properties) Кроме того, сценарий [](/sharepoint/dev/spfx/web-parts/single-part-app-pages) создает две страницы приложения для отдельных частей в библиотеке страниц сайта для размещения веб-частей администратора и пользователя в известном расположении.

1. Если вы еще не скачали SharePoint online Management Shell, скачайте его сейчас. См. [SharePoint Загрузка сетевой оболочки управления.](https://go.microsoft.com/fwlink/p/?LinkId=255251)
2. Для запуска сценария может потребоваться настроить политику выполнения PowerShell. Дополнительные сведения см. [в дополнительных сведениях о политиках выполнения.](/powershell/module/microsoft.powershell.core/about/about_execution_policies)
3. Выполните `CustomLearningConfiguration.ps1` сценарий. В дополнение к учетным данным администратора клиента скрипт подсказывит вам имя клиента и имя сайта. Учитывая следующий пример URL-адреса сайта, это имя клиента и `https://contoso.sharepoint.com/sites/O365CL` `contoso` имя `O365CL` сайта. 

### <a name="disabling-telemetry-collection"></a>Отключение коллекции телеметрии
Часть этого решения включает анонимизированный выбор отслеживания телеметрии, который по умолчанию включен. Если вы делаете ручную установку и хотите отключить отслеживание телеметрии, измените сценарий, чтобы $optInTelemetry переменная $false и запустить `CustomlearningConfiguration.ps1` сценарий.

## <a name="validate-provisioning-success-and-initialize-the-customconfig-list"></a>Проверка успешности разработки и инициализация списка CustomConfig

После успешного запуска скрипта PowerShell перейдите на сайт, инициализуйте элемент **списка CustomConfig,** который задает пути обучения для его первого использования, и проверьте, что сайт работает.

- Перейдите на сайт `<YOUR-SITE-COLLECTION-URL>/SitePages/CustomLearningAdmin.aspx`. При открытии **CustomLearningAdmin.aspx** инициализируется элемент списка **CustomConfig**, который настраивает пути обучения для первого использования. Вы должны увидеть страницу, которая выглядит так:

![Пример страницы конфигурации.](media/cg-adminapppage.png)

## <a name="add-owners-to-site"></a>Добавление владельцев на сайт
В качестве администратора клиента маловероятно, что вы будете настраивать сайт, поэтому вам потребуется назначить несколько владельцев на сайт. Владельцы имеют административные привилегии на сайте, чтобы они могли изменять страницы сайтов и ребрендинг сайта. Кроме того, они могут скрывать и показывать контент, доставляемый через веб-часть учебных путей. Кроме того, они будут иметь возможность создавать настраиваемые списки воспроизведения и назначать их настраиваемые подкатегории.  

1. Из меню SharePoint **Параметры** нажмите разрешения **сайта**.
2. Нажмите **кнопку Расширенный Параметры**.
3. Щелкните **пути обучения для Office 365 владельцев**.
4. Нажмите **кнопку** Добавить пользователей в эту группу, а затем добавьте  >  людей, которых вы хотите быть владельцами. 
5. Добавьте ссылку на [изучение сайта в](custom_exploresite.md) сообщении Share и нажмите кнопку **Share**.

## <a name="migrate-custom-content"></a>Перенос пользовательского контента
После восстановления сайта путей обучения, следуя вышеперечисленным шагам, необходимо переместить содержимое списка **CustomPlaylists** и списка **CustomAssets.** Вы также можете по желанию переместить фактические пользовательские страницы, которые составляют настраиваемые активы, если они живут на существующем сайте путей обучения, и вы намерены удалить его. Задача может быть сложной, так как для всех элементов в списке **CustomPlaylists** ID элемента списка в списке **CustomAssets** зарыт в поле JSONData каждого элемента списка воспроизведения. Поэтому простого перемещения содержимого списка **CustomPlaylists** с одного сайта на другой будет недостаточно. Кроме того, **список CustomAssets** содержит абсолютный URL-адрес страницы настраиваемого актива в поле JSONData элемента списка. Если активы не перемещены и сайт не переименован (таким образом, абсолютный URL-адрес изменяется на страницу актива), **то CustomAssets** может оставаться. Но вам потребуется вручную исправить записи. Учитывая сложность этого типа миграции, мы предлагаем вам рассмотреть возможность привлечения одного из наших партнеров по путям обучения, чтобы помочь вам в этом переходе. 

### <a name="next-steps"></a>Дальнейшие действия
- См. [параметры настройки путей обучения.](custom_overview.md) 
- См. [перевод страниц сайта](custom_translate_page_ml.md).
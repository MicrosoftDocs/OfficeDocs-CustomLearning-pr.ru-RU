---
author: pkrebs
ms.author: pkrebs
title: Самостоятельная установка веб-части
ms.date: 02/10/2019
description: Настройка веб-части вручную Microsoft 365 Learnings
ms.openlocfilehash: f3271dbd75ee18db7f89fdd15ebb35c1b2bf7d97
ms.sourcegitcommit: f5a7079d56598c14aef2f4b886c025a59ba89276
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/21/2019
ms.locfileid: "34247874"
---
# <a name="stand-alone-web-part-setup"></a>Самостоятельная установка веб-части

Microsoft 365 Learning Trains предлагает ручной, автономный процесс настройки веб-части для тех организаций, у которых уже есть установленный современный коммуникационный сайт SharePoint Online, или что нужно только настроить веб-часть "пути для обучения" в собственный сайт для общения. Обратите внимание, что для ручной настройки требуются возможности работы с Windows PowerShell и командной консолью SharePoint Online. Действия для ручной настройки веб-части "пути для обучения", как показано ниже.

- Убедитесь, что выполнены все необходимые условия.
- Установите файл кустомлеарнинг. sppkg в каталоге приложений клиента SharePoint.
- Подготовьте или определите современный сайт для общения, который будет использоваться в качестве домашнего сайта Microsoft 365 Learning.
- Выполните сценарий PowerShell, который будет настраивать клиент с использованием соответствующих артефактов, от которых зависит работа путей обучения.
- Перейдите на страницу сайта Кустомлеарнингадмин. aspx, чтобы загрузить веб-часть "Администратор" для инициализации настраиваемой конфигурации контента.

> [!NOTE]
> Если вы ищете быстрый и простой способ настройки путей обучения, ознакомьтесь со статьей [Подготовка путей обучения Microsoft 365](custom_provision.md).

## <a name="prerequisites"></a>Необходимые компоненты
Чтобы обеспечить успешную настройку вручную для веб-части "пути для обучения", необходимо соблюдение следующих условий. 

- Необходимо настроить и настроить каталог приложений на уровне клиента. Ознакомьтесь со статьей [Настройка клиента Office 365](https://docs.microsoft.com/en-us/sharepoint/dev/spfx/set-up-your-developer-tenant#create-app-catalog-site) и перейдите к разделу Создание сайта каталога приложений. 
- Если каталог приложений на уровне клиента уже подготовлен, вам потребуется доступ к учетной записи, имеющей права на отправку пакета для завершения процесса установки. Как правило, это учетная запись с ролью администратора SharePoint. 
- Если учетная запись с этой ролью не работает, перейдите в центр администрирования SharePoint и найдите администраторов семейства веб-сайтов для семейства веб-сайтов каталога приложений и либо выполните вход в качестве одного из администраторов семейства веб-сайтов, либо добавьте учетную запись администратора SharePoint. не удалось выполнить администратора семейства веб-сайтов. 
- Кроме того, вам потребуется доступ к учетной записи, которая является администратором клиента SharePoint.

## <a name="step-1---get-the-web-part-package-and-setup-script-from-github"></a>Шаг 1. получение пакета веб-части и сценария установки из GitHub
В рамках процесса установки потребуется пакет веб-части Microsoft 365 Learnings и сценарий установки PowerShell.

- Перейдите к [репозиторию GitHub "пути для обучения](https://github.com/pnp/custom-learning-office-365)".
- Нажмите кнопку **загрузить** , чтобы сохранить пакет веб-части и сценарий на локальном диске. Вы будете использовать скрипт и пакет веб-частей на последующих этапах этого процесса.

## <a name="step-2---upload-the-web-part-to-the-tenant-app-catalog"></a>Шаг 2: Отправка веб-части в каталог приложений клиента
Чтобы настроить пути обучения Microsoft 365, отправьте файл кустомлеарнинг. sppkg в каталог приложений на уровне клиента и разверните его. [Используйте каталог приложений, чтобы сделать пользовательские бизнес-приложения доступными в среде SharePoint Online](https://docs.microsoft.com/en-us/sharepoint/use-app-catalog) для получения подробных инструкций по добавлению приложения в каталог приложений.

## <a name="step-3---provisionidentify-a-modern-communication-site"></a>Этап 3: подготовка/идентификация современного информационного сайта
Либо Определите существующий сайт для общения с SharePoint, либо создайте новый сайт в клиенте SharePoint Online. Для получения дополнительных сведений о подготовке сайта для общения ознакомьтесь со статьей [Создание информационного сайта в SharePoint Online](https://support.office.com/en-us/article/create-a-communication-site-in-sharepoint-online-7fb44b20-a72f-4d2c-9173-fc8f59ba50eb) и следуйте указаниям по созданию сайта для общения.

## <a name="step-4---add-the-microsoft-365-learning-pathways-app-to-the-site"></a>Шаг 4: Добавление приложения "пути для обучения Microsoft 365" на сайт

1. На сайте SharePoint откройте меню система и выберите команду **Добавить приложение**. 
2. В **приложениях**выберите **из вашей организации**, а затем щелкните " **пути для обучения" для Office 365**. 

## <a name="step-5---set-permissions-for-the-site"></a>Шаг 5: Настройка разрешений для сайта
Убедитесь, что для сайта заданы следующие разрешения:
- **Администратор семейства веб-сайтов или часть группы "владельцы"** — разрешения, необходимые для инициализации элемента списка кустомконфиг, который настраивает пути для обучения при первом использовании. 
- **Группа Members** — пермиссонс, необходимая для администрирования путей обучения, в том числе скрытие и отображение контента и администрирование настраиваемых списков воспроизведения.
- **Группа "Посетители** " — разрешения, необходимые для просмотра контента сайта. 

## <a name="step-6--execute-powershell-configuration-script"></a>Шаг 6: выполнение скрипта настройки PowerShell
Сценарий `CustomLearningConfiguration.ps1` PowerShell включается для создания трех [свойств клиента](https://docs.microsoft.com/en-us/sharepoint/dev/spfx/tenant-properties) , которые использует решение. Кроме того, сценарий создает две [страницы односторонних приложений](https://docs.microsoft.com/en-us/sharepoint/dev/spfx/web-parts/single-part-app-pages) в библиотеке страниц сайта, чтобы разместить веб-части "Администратор" и "пользователь" в известном расположении.

1. Если вы еще не скачали командную консоль SharePoint Online, скачайте ее сейчас. Ознакомьтесь с [разгрузкой консоли управления SharePoint Online](https://go.microsoft.com/fwlink/p/?LinkId=255251).
2. Для запуска скрипта может потребоваться настройка политики выполнения PowerShell. Более подробную информацию можно узнать в статье [о политиках выполнения](https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_execution_policies?view=powershell-6).
3. Выполнение `CustomLearningConfiguration.ps1` скрипта. В дополнение к учетным данным администратора клиента, сценарий предложит ввести имя клиента и имя сайта. Учитывая следующий пример для URL-адреса сайта, `https://contoso.sharepoint.com/sites/O365CL` `contoso` — это имя клиента и `O365CL` имя сайта. 

### <a name="disabling-telemetry-collection"></a>Отключение коллекции телеметрии
Часть этого решения включает в себя анонимное отслеживание телеметрии, для которого по умолчанию установлено значение Вкл. Если вы выполняете ручную установку и хотите отключить отслеживание телеметрии, измените `CustomlearningConfiguration.ps1` сценарий так, чтобы переменная $optInTelemetry $false и выполняла сценарий.

## <a name="validate-provisioning-success-and-initialize-the-customconfig-list"></a>Проверка успешности подготовки и инициализация списка Кустомконфиг

После успешного выполнения скрипта PowerShell перейдите на сайт, инициализирует элемент списка **кустомконфиг** , который настраивает пути для обучения для первого использования, и проверяет, работает ли сайт.

- Перейдите на сайт `<YOUR-SITE-COLLECTION-URL>/SitePages/CustomLearningAdmin.aspx`. При открытии **кустомлеарнингадмин. aspx** инициализируется элемент списка **кустомконфиг** , который настраивает пути для обучения для первого использования. Должна отобразиться страница, которая выглядит следующим образом:

![кг-админапппаже. png](media/cg-adminapppage.png)

## <a name="add-owners-to-site"></a>Добавление владельцев для сайта
Как администратор клиента, маловероятно, чтобы пользователь настраивает сайт, поэтому необходимо назначить сайт нескольким владельцам. Владельцы имеют административные права на сайте, чтобы они могли изменять страницы сайта и изменять фирменный стиль сайта. Они также могут скрывать и показывать контент, доставленный через веб-часть "пути для обучения". Кроме того, они могут создавать настраиваемые списки воспроизведения и назначать их настраиваемым подкатегориям.  

1. В меню **Параметры** SharePoint выберите разрешения для **сайта**.
2. Нажмите кнопку **Дополнительные параметры разрешений**.
3. Щелкните **пути обучения для владельцев Office 365**.
4. Нажмите кнопку **создать** > ,**чтобы добавить пользователей в эту группу**, а затем добавьте пользователей, которых вы хотите сделать владельцами. 
5. Добавьте ссылку для [просмотра сайта](https://docs.microsoft.com/en-us/Office365/CustomLearning/custom_explore) в сообщении общего доступа, а затем щелкните **общий доступ**.

### <a name="next-steps"></a>Дальнейшие действия
- [Настройка](custom_overview.md) обучающих интерфейсов для Организации.


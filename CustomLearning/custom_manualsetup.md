---
author: pkrebs
ms.author: pkrebs
title: Самостоятельная установка веб-части
ms.date: 02/10/2019
description: Настройка настраиваемых веб-частей вручную для Office 365
ms.openlocfilehash: 8bf6292518c36eda74a49f9968c8e0559fcf8320
ms.sourcegitcommit: 5ea8d7fdc255ef7de06f41b3c794bc40551cf5bb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/14/2019
ms.locfileid: "30577855"
---
# <a name="stand-alone-web-part-setup"></a><span data-ttu-id="1c66d-103">Самостоятельная установка веб-части</span><span class="sxs-lookup"><span data-stu-id="1c66d-103">Stand alone web part setup</span></span>

<span data-ttu-id="1c66d-104">Пользовательское обучение предлагает ручное, самостоятельную настройку веб-части для тех организаций, у которых уже есть установленный современный сайт SharePoint Online, предназначенный для обучения, или что необходимо только настроить настраиваемую веб-часть обучения в своих собственных сайт для общения.</span><span class="sxs-lookup"><span data-stu-id="1c66d-104">Custom Learning offers a manual, stand alone web part setup for those organizations that already have an established SharePoint Online modern communication site dedicated to training, or that just want to set up the Custom Learning web part in their own communication site.</span></span> <span data-ttu-id="1c66d-105">Обратите внимание, что для ручной настройки требуются возможности работы с Windows PowerShell и командной консолью SharePoint Online.</span><span class="sxs-lookup"><span data-stu-id="1c66d-105">Note that the manual setup requires experience working with Windows PowerShell and the SharePoint Online Management Shell.</span></span> <span data-ttu-id="1c66d-106">Действия для ручного задания настраиваемого веб-части обучения приведены ниже.</span><span class="sxs-lookup"><span data-stu-id="1c66d-106">The steps for a manual set up of the Custom Learning Web part as as follows:</span></span>

- <span data-ttu-id="1c66d-107">Убедитесь, что выполнены все необходимые условия.</span><span class="sxs-lookup"><span data-stu-id="1c66d-107">Validate that you have met all the prerequisites.</span></span>
- <span data-ttu-id="1c66d-108">Установите файл кустомлеарнинг. sppkg в каталоге приложений клиента Office 365.</span><span class="sxs-lookup"><span data-stu-id="1c66d-108">Install the customlearning.sppkg file in your Office 365 Tenant App Catalog.</span></span>
- <span data-ttu-id="1c66d-109">Обеспечьте подготовку или идентификацию современного информационного сайта, который будет служить пользовательским домашним сайтом обучения Office 365.</span><span class="sxs-lookup"><span data-stu-id="1c66d-109">Provision/Identify a modern communication site to act as your Custom Learning for Office 365 home site.</span></span>
- <span data-ttu-id="1c66d-110">Выполните сценарий PowerShell, который будет настраивать клиент с использованием соответствующих артефактов, от которых зависит настраиваемый обучающий курс.</span><span class="sxs-lookup"><span data-stu-id="1c66d-110">Execute a PowerShell script that will configure your tenant with the appropriate artifacts that Custom Learning depends on.</span></span>
- <span data-ttu-id="1c66d-111">Перейдите на страницу сайта Кустомлеарнингадмин. aspx, чтобы загрузить веб-часть "Администратор" для инициализации настраиваемой конфигурации контента.</span><span class="sxs-lookup"><span data-stu-id="1c66d-111">Navigate to the CustomLearningAdmin.aspx site page to load the admin web part to initialize the custom content configuration.</span></span>

> [!NOTE]
> <span data-ttu-id="1c66d-112">Если вы ищете быстрый и простой способ настройки настраиваемого обучения, ознакомьтесь со статьей [Подготовка настраиваемОго обучения](custom_provision.md).</span><span class="sxs-lookup"><span data-stu-id="1c66d-112">If you are looking for a fast, easy way to set up Custom Learning, see [Provision Custom Learning](custom_provision.md).</span></span>

## <a name="prerequisites"></a><span data-ttu-id="1c66d-113">Необходимые компоненты</span><span class="sxs-lookup"><span data-stu-id="1c66d-113">Prerequisites</span></span>
<span data-ttu-id="1c66d-114">Чтобы обеспечить успешную настройку настраиваемой веб-части вручную, необходимо соблюдать следующие условия.</span><span class="sxs-lookup"><span data-stu-id="1c66d-114">To ensure a successful manual setup of the Custom Learning web part, the follow prerequisites must be met.</span></span> 

- <span data-ttu-id="1c66d-115">Необходимо настроить и настроить каталог приложений на уровне клиента.</span><span class="sxs-lookup"><span data-stu-id="1c66d-115">You must have set up and configured the tenant-wide App Catalog.</span></span> <span data-ttu-id="1c66d-116">Ознакомьтесь со статьей [Настройка клиента Office 365](https://docs.microsoft.com/en-us/sharepoint/dev/spfx/set-up-your-developer-tenant#create-app-catalog-site) и перейдите к разделу Создание сайта каталога приложений.</span><span class="sxs-lookup"><span data-stu-id="1c66d-116">Please see [Set up your Office 365 tenant](https://docs.microsoft.com/en-us/sharepoint/dev/spfx/set-up-your-developer-tenant#create-app-catalog-site) and follow the Create app catalog site section.</span></span> 
- <span data-ttu-id="1c66d-117">Если каталог приложений на уровне клиента уже подготовлен, вам потребуется доступ к учетной записи, имеющей права на отправку пакета для завершения процесса установки.</span><span class="sxs-lookup"><span data-stu-id="1c66d-117">If your tenant-wide App Catalog has already been provisioned you will need access to an account that has rights to upload a package to it to complete this setup process.</span></span> <span data-ttu-id="1c66d-118">Как правило, это учетная запись с ролью администратора SharePoint.</span><span class="sxs-lookup"><span data-stu-id="1c66d-118">Generally this is an account with the SharePoint administrator role.</span></span> 
- <span data-ttu-id="1c66d-119">Если учетная запись с этой ролью не работает, перейдите в центр администрирования SharePoint и найдите администраторов семейства веб-сайтов для семейства веб-сайтов каталога приложений и либо выполните вход в качестве одного из администраторов семейства веб-сайтов, либо добавьте учетную запись администратора SharePoint. не удалось выполнить администратора семейства веб-сайтов.</span><span class="sxs-lookup"><span data-stu-id="1c66d-119">If an account with that role does not work, go to the SharePoint admin center and find the Site Collection Administrators for the app catalog site collection and either log in as one of the Site Collection Administrators, or add the SharePoint administrator account that failed to the Site Collection Administrators.</span></span> 
- <span data-ttu-id="1c66d-120">Кроме того, вам потребуется доступ к учетной записи, которая является администратором клиента SharePoint.</span><span class="sxs-lookup"><span data-stu-id="1c66d-120">You will also need access to an account that is a SharePoint Tenant Admin.</span></span>

## <a name="step-1---get-the-web-part-package-and-setup-script-from-github"></a><span data-ttu-id="1c66d-121">Шаг 1. получение пакета веб-части и сценария установки из GitHub</span><span class="sxs-lookup"><span data-stu-id="1c66d-121">Step 1 - Get the web part package and setup script from GitHub</span></span>
<span data-ttu-id="1c66d-122">В процессе установки потребуется пакет веб-части и сценарий установки PowerShell.</span><span class="sxs-lookup"><span data-stu-id="1c66d-122">As part of the setup process, you'll need the Custom Learning Web part package and the PowerShell Setup Script.</span></span>

- <span data-ttu-id="1c66d-123">Перейдите в [репозиторий настраиваемОго обучения GitHub](https://github.com/pnp/custom-learning-office-365).</span><span class="sxs-lookup"><span data-stu-id="1c66d-123">Go the the [Custom Learning GitHub Repository](https://github.com/pnp/custom-learning-office-365).</span></span>
- <span data-ttu-id="1c66d-124">Нажмите кнопку **загрузить** , чтобы сохранить пакет веб-части и сценарий на локальном диске.</span><span class="sxs-lookup"><span data-stu-id="1c66d-124">Click **Download** to save the web part package and script to a local drive.</span></span> <span data-ttu-id="1c66d-125">Вы будете использовать скрипт и пакет веб-частей на последующих этапах этого процесса.</span><span class="sxs-lookup"><span data-stu-id="1c66d-125">You'll be using the script and the web part package in later steps of this process.</span></span>

## <a name="step-2---upload-the-web-part-to-the-tenant-app-catalog"></a><span data-ttu-id="1c66d-126">Шаг 2: Отправка веб-части в каталог приложений клиента</span><span class="sxs-lookup"><span data-stu-id="1c66d-126">Step 2 - Upload the web part to the Tenant App Catalog</span></span>
<span data-ttu-id="1c66d-127">Чтобы настроить пользовательское обучение для Office 365, отправьте файл кустомлеарнинг. sppkg в каталог приложений на уровне клиента и разверните его.</span><span class="sxs-lookup"><span data-stu-id="1c66d-127">To set up Custom Learning for Office 365, you upload the customlearning.sppkg file to the tenant-wide App Catalog and deploy it.</span></span> <span data-ttu-id="1c66d-128">[Используйте каталог приложений, чтобы сделать пользовательские бизнес-приложения доступными в среде SharePoint Online](https://docs.microsoft.com/en-us/sharepoint/use-app-catalog) для получения подробных инструкций по добавлению приложения в каталог приложений.</span><span class="sxs-lookup"><span data-stu-id="1c66d-128">Please see [Use the App Catalog to make custom business apps available for your SharePoint Online environment](https://docs.microsoft.com/en-us/sharepoint/use-app-catalog) for detailed instructions on how to add an app to the app catalog.</span></span>

## <a name="step-3---provisionidentify-a-modern-communication-site"></a><span data-ttu-id="1c66d-129">Этап 3: подготовка/идентификация современного информационного сайта</span><span class="sxs-lookup"><span data-stu-id="1c66d-129">Step 3 - Provision/identify a modern communication site</span></span>
<span data-ttu-id="1c66d-130">Либо Определите существующий сайт для общения с SharePoint, либо создайте новый сайт в клиенте SharePoint Online.</span><span class="sxs-lookup"><span data-stu-id="1c66d-130">Either identify an existing SharePoint communication site or provision a new one in your SharePoint Online tenant.</span></span> <span data-ttu-id="1c66d-131">Для получения дополнительных сведений о подготовке сайта для общения ознакомьтесь со статьей [Создание информационного сайта в SharePoint Online](https://support.office.com/en-us/article/create-a-communication-site-in-sharepoint-online-7fb44b20-a72f-4d2c-9173-fc8f59ba50eb) и следуйте указаниям по созданию сайта для общения.</span><span class="sxs-lookup"><span data-stu-id="1c66d-131">For more information about how to provision a communication site see [Create a communication site in SharePoint Online](https://support.office.com/en-us/article/create-a-communication-site-in-sharepoint-online-7fb44b20-a72f-4d2c-9173-fc8f59ba50eb) and follow the steps to create a communication site.</span></span>

## <a name="step-4---add-the-custom-learning-for-office-365-app-to-the-site"></a><span data-ttu-id="1c66d-132">шаг 4: добавление настраиваемого учебного приложения Office 365 на сайт</span><span class="sxs-lookup"><span data-stu-id="1c66d-132">Step 4 - Add the Custom Learning for Office 365 app to the site</span></span>

1. <span data-ttu-id="1c66d-133">На сайте SharePoint откройте меню система и выберите команду **Добавить приложение**.</span><span class="sxs-lookup"><span data-stu-id="1c66d-133">From the SharePoint site, click the System menu, then click **Add an App**.</span></span> 
2. <span data-ttu-id="1c66d-134">В **приложениях**выберите **из вашей организации**, а затем выберите Пользовательское **обучение для Office 365**.</span><span class="sxs-lookup"><span data-stu-id="1c66d-134">Under **Your Apps**, click **From Your Organization**, and then click **Custom Learning for Office 365**.</span></span> 

## <a name="step-5---set-permissions-for-the-site"></a><span data-ttu-id="1c66d-135">Шаг 5: Настройка разрешений для сайта</span><span class="sxs-lookup"><span data-stu-id="1c66d-135">Step 5 - Set permissions for the site</span></span>
<span data-ttu-id="1c66d-136">Убедитесь, что для сайта заданы следующие разрешения:</span><span class="sxs-lookup"><span data-stu-id="1c66d-136">Ensure the following permissions are set for the site:</span></span>
- <span data-ttu-id="1c66d-137">**Администратор семейства веб-сайтов или часть группы "владельцы"** — разрешения, необходимые для инициализации элемента списка кустомконфиг, который настраивает пользовательское обучение для его первого использования.</span><span class="sxs-lookup"><span data-stu-id="1c66d-137">**Site Collection Administrator or part of the Owners group** - Permissions required to  initialize the CustomConfig list item that sets up custom learning for its first use.</span></span> 
- <span data-ttu-id="1c66d-138">**Группа Members** — пермиссонс требуется для администрирования настраиваемого обучения, в том числе для скрытия и отображения контента, а также для администрирования настраиваемых списков воспроизведения.</span><span class="sxs-lookup"><span data-stu-id="1c66d-138">**Members group** - permissons required to Administer Custom Learning, including hiding and showing content and administering custom playlists</span></span>
- <span data-ttu-id="1c66d-139">**Группа "Посетители** " — разрешения, необходимые для просмотра контента сайта.</span><span class="sxs-lookup"><span data-stu-id="1c66d-139">**Visitors group** - permissions required to view site content.</span></span> 

## <a name="step-6--execute-powershell-configuration-script"></a><span data-ttu-id="1c66d-140">Шаг 6: выполнение скрипта настройки PowerShell</span><span class="sxs-lookup"><span data-stu-id="1c66d-140">Step 6- Execute PowerShell Configuration Script</span></span>
<span data-ttu-id="1c66d-141">Сценарий `CustomLearningConfiguration.ps1` PowerShell включается для создания трех [свойств клиента](https://docs.microsoft.com/en-us/sharepoint/dev/spfx/tenant-properties) , которые использует решение.</span><span class="sxs-lookup"><span data-stu-id="1c66d-141">A PowerShell script `CustomLearningConfiguration.ps1` is included that you will need to execute to create three [tenant properties](https://docs.microsoft.com/en-us/sharepoint/dev/spfx/tenant-properties) that the solution uses.</span></span> <span data-ttu-id="1c66d-142">Кроме того, сценарий создает две [страницы односторонних приложений](https://docs.microsoft.com/en-us/sharepoint/dev/spfx/web-parts/single-part-app-pages) в библиотеке страниц сайта, чтобы разместить веб-части "Администратор" и "пользователь" в известном расположении.</span><span class="sxs-lookup"><span data-stu-id="1c66d-142">In addition the script creates two [single part app pages](https://docs.microsoft.com/en-us/sharepoint/dev/spfx/web-parts/single-part-app-pages) in the site pages library to host the admin and user web parts at a known location.</span></span>

1. <span data-ttu-id="1c66d-143">Если вы еще не скачали командную консоль SharePoint Online, скачайте ее сейчас.</span><span class="sxs-lookup"><span data-stu-id="1c66d-143">If you haven't already downloaded the SharePoint Online Management Shell, download it now.</span></span> <span data-ttu-id="1c66d-144">Ознакомьтесь с разГрузкой консоли [управления SharePoint Online](https://go.microsoft.com/fwlink/p/?LinkId=255251).</span><span class="sxs-lookup"><span data-stu-id="1c66d-144">See [SharePoint Online Management Shell Download](https://go.microsoft.com/fwlink/p/?LinkId=255251).</span></span>
2. <span data-ttu-id="1c66d-145">Для запуска скрипта может потребоваться настройка политики выполнения PowerShell.</span><span class="sxs-lookup"><span data-stu-id="1c66d-145">You may need to set a PowerShell execution policy to run the script.</span></span> <span data-ttu-id="1c66d-146">Более подробную информацию можно узнать в статье [о политиках выполнения](https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_execution_policies?view=powershell-6).</span><span class="sxs-lookup"><span data-stu-id="1c66d-146">For more information, see [About Execution Policies](https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_execution_policies?view=powershell-6).</span></span>
3. <span data-ttu-id="1c66d-147">Выполнение `CustomLearningConfiguration.ps1` скрипта.</span><span class="sxs-lookup"><span data-stu-id="1c66d-147">Execute the `CustomLearningConfiguration.ps1` script.</span></span> <span data-ttu-id="1c66d-148">В дополнение к учетным данным администратора клиента, сценарий предложит ввести имя клиента и имя сайта.</span><span class="sxs-lookup"><span data-stu-id="1c66d-148">In addition to your Tenant Admin credentials, the script will prompt you for your tenant name and site name.</span></span> <span data-ttu-id="1c66d-149">Учитывая следующий пример для URL-адреса сайта, `https://contoso.sharepoint.com/sites/O365CL` `contoso` — это имя клиента и `O365CL` имя сайта.</span><span class="sxs-lookup"><span data-stu-id="1c66d-149">Considering the following example for your site URL, `https://contoso.sharepoint.com/sites/O365CL`, `contoso` is the tenant name and `O365CL` is the site name.</span></span> 

### <a name="disabling-telemetry-collection"></a><span data-ttu-id="1c66d-150">Отключение коллекции телеметрии</span><span class="sxs-lookup"><span data-stu-id="1c66d-150">Disabling Telemetry Collection</span></span>
<span data-ttu-id="1c66d-151">Часть этого решения включает в себя анонимное отслеживание телеметрии, для которого по умолчанию установлено значение Вкл.</span><span class="sxs-lookup"><span data-stu-id="1c66d-151">Part of this solution includes anonymized telemetry tracking opt in, which by default is set to on.</span></span> <span data-ttu-id="1c66d-152">Если вы выполняете ручную установку и хотите отключить отслеживание телеметрии, измените `CustomlearningConfiguration.ps1` сценарий так, чтобы переменная $optInTelemetry $false и выполняла сценарий.</span><span class="sxs-lookup"><span data-stu-id="1c66d-152">If you are performing a manual install and you would like to turn telemetry tracking off, please change the `CustomlearningConfiguration.ps1` script to set the $optInTelemetry variable to $false and run the script.</span></span>

## <a name="validate-provisioning-success-and-initialize-the-customconfig-list"></a><span data-ttu-id="1c66d-153">Проверка успешности подготовки и инициализация списка Кустомконфиг</span><span class="sxs-lookup"><span data-stu-id="1c66d-153">Validate Provisioning Success and Initialize the CustomConfig List</span></span>

<span data-ttu-id="1c66d-154">После успешного выполнения скрипта PowerShell перейдите на сайт, инициализирует элемент списка **кустомконфиг** , который настраивает пользовательское обучение для первого использования, и проверяет, работает ли сайт.</span><span class="sxs-lookup"><span data-stu-id="1c66d-154">After the PowerShell script is successfully run, you navigate to the site, initialize the **CustomConfig** list item that sets up Custom Learning for its first use, and validate the site is working.</span></span>

- <span data-ttu-id="1c66d-155">Перейдите по ссылке `<YOUR-SITE-COLLECTION-URL>/SitePages/CustomLearningAdmin.aspx`.</span><span class="sxs-lookup"><span data-stu-id="1c66d-155">Go to `<YOUR-SITE-COLLECTION-URL>/SitePages/CustomLearningAdmin.aspx`.</span></span> <span data-ttu-id="1c66d-156">При открытии **кустомлеарнингадмин. aspx** инициализируется элемент списка **кустомконфиг** , в котором настраивается особое обучение для первого использования.</span><span class="sxs-lookup"><span data-stu-id="1c66d-156">Opening **CustomLearningAdmin.aspx** initializes the **CustomConfig** list item that sets up Custom Learning for first use.</span></span> <span data-ttu-id="1c66d-157">Должна отобразиться страница, которая выглядит следующим образом:</span><span class="sxs-lookup"><span data-stu-id="1c66d-157">You should see a page that looks like this:</span></span>

![кг-админапппаже. png](media/cg-adminapppage.png)

## <a name="add-owners-to-site"></a><span data-ttu-id="1c66d-159">Добавление владельцев для сайта</span><span class="sxs-lookup"><span data-stu-id="1c66d-159">Add Owners to Site</span></span>
<span data-ttu-id="1c66d-160">Как администратор клиента, маловероятно, чтобы пользователь настраивает сайт, поэтому необходимо назначить сайт нескольким владельцам.</span><span class="sxs-lookup"><span data-stu-id="1c66d-160">As the Tenant Admin, it's unlikely you'll be the person customizing the site, so you'll need to assign a few owners to the site.</span></span> <span data-ttu-id="1c66d-161">Владельцы имеют административные права на сайте, чтобы они могли изменять страницы сайта и изменять фирменный стиль сайта.</span><span class="sxs-lookup"><span data-stu-id="1c66d-161">Owners have administrative privileges on the site so they can modify site pages and rebrand the site.</span></span> <span data-ttu-id="1c66d-162">Они также могут скрывать и показывать контент, доставленный через пользовательскую веб-часть обучения.</span><span class="sxs-lookup"><span data-stu-id="1c66d-162">They also have the ability to hide and show content delivered through the Custom Learning Web part.</span></span> <span data-ttu-id="1c66d-163">Кроме того, они могут создавать настраиваемые списки воспроизведения и назначать их настраиваемым подкатегориям.</span><span class="sxs-lookup"><span data-stu-id="1c66d-163">In addition, they'll have the ability to build custom playlist and assign them to custom subcategories.</span></span>  

1. <span data-ttu-id="1c66d-164">В меню **Параметры** SharePoint выберите разрешения для **сайта**.</span><span class="sxs-lookup"><span data-stu-id="1c66d-164">From the SharePoint **Settings** menu, click **Site Permissions**.</span></span>
2. <span data-ttu-id="1c66d-165">Нажмите кнопку **Дополнительные параметры разрешений**.</span><span class="sxs-lookup"><span data-stu-id="1c66d-165">Click **Advanced Permission Settings**.</span></span>
3. <span data-ttu-id="1c66d-166">Щелкните **пользовательское обучение для владельцев Office 365**.</span><span class="sxs-lookup"><span data-stu-id="1c66d-166">Click **Custom learning for Office 365 Owners**.</span></span>
4. <span data-ttu-id="1c66d-167">Нажмите кнопку **создать** > ,**чтобы добавить пользователей в эту группу**, а затем добавьте пользователей, которых вы хотите сделать владельцами.</span><span class="sxs-lookup"><span data-stu-id="1c66d-167">Click **New** > **Add Users to this group**, and then add the people you want to be Owners.</span></span> 
5. <span data-ttu-id="1c66d-168">Добавьте ссылку для [просмотра сайта](https://docs.microsoft.com/en-us/Office365/CustomLearning/custom_explore) в сообщении общего доступа, а затем щелкните **общий доступ**.</span><span class="sxs-lookup"><span data-stu-id="1c66d-168">Add a link to [Explore the Site](https://docs.microsoft.com/en-us/Office365/CustomLearning/custom_explore) in the Share message, and then click **Share**.</span></span>

### <a name="next-steps"></a><span data-ttu-id="1c66d-169">Следующие действия</span><span class="sxs-lookup"><span data-stu-id="1c66d-169">Next Steps</span></span>
- <span data-ttu-id="1c66d-170">[Настройка](custom_overview.md) обучающих интерфейсов для Организации.</span><span class="sxs-lookup"><span data-stu-id="1c66d-170">[Customize](custom_overview.md) the training experience for your organization.</span></span>


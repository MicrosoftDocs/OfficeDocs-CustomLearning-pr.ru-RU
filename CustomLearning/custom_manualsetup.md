---
author: pkrebs
ms.author: pkrebs
title: Обучающие пути Настройка вручную
ms.date: 07/06/2020
description: Microsoft 365 Learning — пути установки вручную
ms.openlocfilehash: f980722fed48b5f92fb595cf8286604b3fa6d409
ms.sourcegitcommit: ba0cddd12dd8687ec4b97c26174fdda09de83b05
ms.contentlocale: ru-RU
ms.lasthandoff: 07/06/2020
ms.locfileid: "45043271"
---
# <a name="learning-pathways-manual-setup"></a>Обучающие пути Настройка вручную

Microsoft 365 Learning путей предоставляет ручную настройку для организаций, которым необходима поддержка одного из следующих сценариев: 

- У вашей организации есть установленный современный коммуникационный сайт SharePoint Online, предназначенный для обучения, и вы хотите добавить в этот сайт пути для обучения. В этом случае веб-часть "пути для обучения" не была настроена на сайте.

- Вы хотите установить обучающие пути для многоязычной поддержки в одном из сайтов для общения в Организации SharePoint. На сайте используется язык по умолчанию, отличный от английского, а — один из языков, поддерживаемых в пути обучения. Ниже приведены языки, поддерживаемые в пути обучения:

- English
- Китайский (упрощенное письмо)
- французский;
- немецкий;
- Итальянский (Италия)
- Японский (Япония)
- Португальский (Бразилия)
- Русский (Русский)
- Spanish

Для настройки путей обучения вручную требуется работа с Windows PowerShell и командной консолью SharePoint Online. Ниже представлен обзор действий по настройке путей обучения вручную. 

- Убедитесь, что выполнены все необходимые условия.
- Проверьте языковые параметры по умолчанию для сайта. Если да, продолжите установку вручную. Если требуется другой язык, установленный по умолчанию, необходимо создать новый сайт. 
- Установите файл кустомлеарнинг. sppkg в каталоге приложений клиента SharePoint.
- Подготовьте или определите современный сайт для общения, который будет использоваться в качестве домашнего сайта Microsoft 365 Learning.
- Выполните сценарий PowerShell, который будет настраивать клиент с помощью артефактов, от которых зависит работа путей обучения.
- Перейдите на страницу сайта Кустомлеарнингадмин. aspx, чтобы загрузить веб-часть "Администратор", чтобы инициализировать конфигурацию настраиваемого контента.

## <a name="prerequisites"></a>Необходимые действия
Чтобы обеспечить успешную настройку вручную для веб-части "пути для обучения", необходимо соблюдение следующих условий. 

- Необходимо настроить и настроить каталог приложений на уровне клиента. Ознакомьтесь с разделом [Настройка клиента Office 365](https://docs.microsoft.com/sharepoint/dev/spfx/set-up-your-developer-tenant#create-app-catalog-site) и следуйте разделу "Создание каталога приложений". 
- Если каталог приложений на уровне клиента уже подготовлен, вам потребуется доступ к учетной записи, имеющей права на отправку пакета в него. Обычно у этой учетной записи есть роль администратора SharePoint. 
- Если учетная запись, с которой работает эта роль, не работает, перейдите в центр администрирования SharePoint и найдите администраторов семейства веб-сайтов каталога приложений и войдите в систему как один из администраторов семейства веб-сайтов или добавьте учетную запись администратора SharePoint, которая не удалась для администраторов семейства веб-сайтов. 
- Кроме того, вам потребуется доступ к учетной записи, которая является администратором клиента SharePoint.

## <a name="step-1---check-your-language-settings"></a>Шаг 1. Проверьте параметры языка
На первом этапе процесса установки вручную проверьте параметры языка сайта. Возможные варианты:

### <a name="option-1---you-dont-want-multilingual-support"></a>Вариант 1 — вы не хотите использовать многоязычную поддержку
Если вам не нужна многоязычная поддержка для вашего сайта, убедитесь, что она отключена.
1.  На сайте SharePoint для общения выберите **Параметры**  >  **сведения о сайте**  >  **Просмотреть все параметры языка параметров сайта**  >  **Language settings**. 
2.  Установка параметра **разрешить перевод страниц и новостей на несколько языков** переключитесь в **состояние "отключено**".
3.  Нажмите кнопку **Сохранить**. 
4.  Перейдите к шагу 2.

## <a name="option-2---you-want-multilingual-support-and-youre-ok-with-the-default-language"></a>Вариант 2: поддержка многоязычной поддержки и вы можете использовать язык по умолчанию
Для сайта связи SharePoint используется язык по умолчанию. Язык по умолчанию определяет язык, на котором будут просматриваться пути обучения, включая страницу "Администрирование путей обучения". Параметр язык по умолчанию устанавливается при первом создании сайта и не может быть изменен позже. Прежде чем продолжить установку вручную, убедитесь, что выбран язык по умолчанию на целевом сайте.

1.  На сайте SharePoint для общения выберите **Параметры**  >  **сведения о сайте**  >  **Просмотреть все параметры языка параметров сайта**  >  **Language settings**. 
2.  Установите переключатель **разрешить перевод страниц и новостей на несколько языков** **.**
    - Если вы хорошо знакомы с языком, который отображается в верхней части списка **язык**, вы можете добавить дополнительные языки, а затем нажать кнопку **сохранить**. Перейдите к шагу 2.
    - Если вы хотите использовать язык по умолчанию, отличный от того, который выбран для сайта, вам потребуется создать новый сайт для общения с SharePoint на нужном языке. Перейдите к варианту 3. 

## <a name="option-3---you-want-multilingual-support-but-want-a-different-default-language-for-the-site"></a>Option #3 — вы хотите использовать многоязычную поддержку, но для сайта требуется другой язык по умолчанию
С помощью этого параметра создается сайт SharePoint Online для обмена данными с языком по умолчанию, а затем устанавливаются языковые параметры сайта. 
1.  Чтобы создать новый сайт для общения с SharePoint, ознакомьтесь со статьей [Создание информационного сайта в SharePoint Online](https://support.microsoft.com/office/create-a-communication-site-in-sharepoint-online-7fb44b20-a72f-4d2c-9173-fc8f59ba50eb). При создании сайта не забудьте указать язык по умолчанию, который будет использоваться для путей обучения. 
2. На созданном сайте выберите **Параметры**  >  **сведения о сайте**  >  **Просмотреть все параметры языка параметров сайта**  >  **Language settings**. 
2.  Установите переключатель **разрешить перевод страниц и новостей на несколько языков** **.**
3. При необходимости добавьте дополнительные языки, а затем нажмите кнопку **сохранить**. 
4. Перейдите к шагу 2. 

>! Ноте Если вам нужно перенести Настраиваемый контент с сайта на новый сайт, ознакомьтесь с разделом "миграция настраиваемого контента" Далее в этом документе. 

## <a name="step-2---get-the-web-part-package-and-setup-script-from-github"></a>Шаг 2: получение пакета веб-части и сценария установки из GitHub
В рамках процесса установки потребуется пакет веб-части Microsoft 365 Learnings и сценарий установки PowerShell.

- Перейдите в [репозиторий GitHub путей для обучения](https://github.com/pnp/custom-learning-office-365).
- Нажмите кнопку **загрузить** , чтобы сохранить пакет веб-части и сценарий на локальном диске. Вы будете использовать скрипт и пакет веб-частей на последующих этапах этого процесса.

## <a name="step-2---upload-the-web-part-to-the-tenant-app-catalog"></a>Шаг 2: Отправка веб-части в каталог приложений клиента
Чтобы настроить пути обучения Microsoft 365, отправьте файл кустомлеарнинг. sppkg в каталог приложений на уровне клиента и разверните его. В статье [Использование каталога приложений для создания пользовательских бизнес-приложений, доступных в среде SharePoint Online,](https://docs.microsoft.com/sharepoint/use-app-catalog) с подробными инструкциями по добавлению приложения в каталог приложений.

## <a name="step-3---provisionidentify-a-modern-communication-site"></a>Этап 3: подготовка/идентификация современного информационного сайта
Либо Определите существующий сайт для общения с SharePoint, либо создайте новый сайт в клиенте SharePoint Online. Для получения дополнительных сведений о подготовке сайта для общения ознакомьтесь со статьей [Создание информационного сайта в SharePoint Online](https://support.office.com/en-us/article/create-a-communication-site-in-sharepoint-online-7fb44b20-a72f-4d2c-9173-fc8f59ba50eb) и следуйте указаниям по созданию сайта для общения.

## <a name="step-4---add-the-microsoft-365-learning-pathways-app-to-the-site"></a>Шаг 4: Добавление приложения "пути для обучения Microsoft 365" на сайт

1. На сайте SharePoint откройте меню система и выберите команду **Добавить приложение**. 
2. В **приложениях**выберите **из вашей организации**, а затем щелкните " **пути для обучения" для Office 365**. 

## <a name="step-5---set-permissions-for-the-site"></a>Шаг 5: Настройка разрешений для сайта
Убедитесь, что для сайта заданы следующие разрешения:
- **Администратор семейства веб-сайтов или часть группы "владельцы"** — разрешения, необходимые для инициализации элемента списка кустомконфиг, который настраивает пути для обучения при первом использовании. 
- **Группа Members** — разрешения, необходимые для администрирования путей обучения, в том числе для скрытия и отображения контента, а также для администрирования настраиваемых списков воспроизведения.
- **Группа "Посетители** " — разрешения, необходимые для просмотра контента сайта. 

## <a name="step-6--execute-powershell-configuration-script"></a>Шаг 6: выполнение скрипта настройки PowerShell
Сценарий PowerShell `CustomLearningConfiguration.ps1` включается для создания трех [свойств клиента](https://docs.microsoft.com/sharepoint/dev/spfx/tenant-properties) , которые использует решение. Кроме того, сценарий создает две [страницы односторонних приложений](https://docs.microsoft.com/sharepoint/dev/spfx/web-parts/single-part-app-pages) в библиотеке страниц сайта, чтобы разместить веб-части "Администратор" и "пользователь" в известном расположении.

1. Если вы еще не скачали командную консоль SharePoint Online, скачайте ее сейчас. Ознакомьтесь с [разгрузкой консоли управления SharePoint Online](https://go.microsoft.com/fwlink/p/?LinkId=255251).
2. Для запуска скрипта может потребоваться настройка политики выполнения PowerShell. Более подробную информацию можно узнать в статье [о политиках выполнения](https://docs.microsoft.com/powershell/module/microsoft.powershell.core/about/about_execution_policies?view=powershell-6).
3. Выполнение `CustomLearningConfiguration.ps1` скрипта. В дополнение к учетным данным администратора клиента, сценарий предложит ввести имя клиента и имя сайта. Учитывая следующий пример для URL-адреса сайта, `https://contoso.sharepoint.com/sites/O365CL` `contoso` — это имя клиента и `O365CL` имя сайта. 

### <a name="disabling-telemetry-collection"></a>Отключение коллекции телеметрии
Часть этого решения включает в себя анонимное отслеживание телеметрии, для которого по умолчанию установлено значение Вкл. Если вы выполняете ручную установку и хотите отключить отслеживание телеметрии, измените сценарий так, чтобы `CustomlearningConfiguration.ps1` переменная $optInTelemetry $false и выполняла сценарий.

## <a name="validate-provisioning-success-and-initialize-the-customconfig-list"></a>Проверка успешности подготовки и инициализация списка Кустомконфиг

После успешного выполнения скрипта PowerShell перейдите на сайт, инициализирует элемент списка **кустомконфиг** , который настраивает пути для обучения для первого использования, и проверяет, работает ли сайт.

- Перейдите на сайт `<YOUR-SITE-COLLECTION-URL>/SitePages/CustomLearningAdmin.aspx`. При открытии **кустомлеарнингадмин. aspx** инициализируется элемент списка **кустомконфиг** , который настраивает пути для обучения для первого использования. Должна отобразиться страница, которая выглядит следующим образом:

![cg-adminapppage.png](media/cg-adminapppage.png)

## <a name="add-owners-to-site"></a>Добавление владельцев для сайта
Как администратор клиента, маловероятно, чтобы пользователь настраивает сайт, поэтому необходимо назначить сайт нескольким владельцам. Владельцы имеют административные права на сайте, чтобы они могли изменять страницы сайта и изменять фирменный стиль сайта. Они также могут скрывать и показывать контент, доставленный через веб-часть "пути для обучения". Кроме того, они могут создавать настраиваемые списки воспроизведения и назначать их настраиваемым подкатегориям.  

1. В меню **Параметры** SharePoint выберите разрешения для **сайта**.
2. Нажмите кнопку **Дополнительные параметры разрешений**.
3. Щелкните **пути обучения для владельцев Office 365**.
4. Нажмите кнопку **создать**  >  ,**чтобы добавить пользователей в эту группу**, а затем добавьте пользователей, которых вы хотите сделать владельцами. 
5. Добавьте ссылку для [просмотра сайта](https://docs.microsoft.com/Office365/CustomLearning/custom_explore) в сообщении общего доступа, а затем щелкните **общий доступ**.

## <a name="migrate-custom-content"></a>Перенос настраиваемого контента
После повторного создания сайта обучающих путей, выполнив приведенные выше действия, необходимо переместить содержимое списка **кустомплайлистс** и списка **кустомассетс** . Кроме того, можно переместить фактически настраиваемые страницы, которые составляют настраиваемые ресурсы, если они находятся на существующем сайте путей обучения, и ваша цель — удалить его. Задача может быть сложной, так как для всех элементов в списке **КУСТОМПЛАЙЛИСТС** идентификатор элемента списка в списке **кустомассетс** скрыт в поле жсондата каждого элемента списка списков воспроизведения. Таким образом, простое перемещение содержимого списка **кустомплайлистс** с одного сайта на другой не будет достаточным. Кроме того, список **кустомассетс** содержит абсолютный URL-адрес страницы настраиваемого ресурса в поле жсондата элемента списка. Если ресурсы не перемещаются и сайт не переименовывается (таким образом изменяется абсолютный URL-адрес на страницу актива), **кустомассетс** может не работать. Но вам потребуется вручную исправить записи. С учетом сложности этого типа миграции мы предлагаем возможность прикрепить один из партнеров, которые помогут вам выполнить этот переход. 

### <a name="next-steps"></a>Дальнейшие действия
- Ознакомьтесь со [статьей Настройка путей обучения](custom_overview.md). 
- Ознакомьтесь со статьей [перевод страниц сайта](custom_translate_page_ml.md).



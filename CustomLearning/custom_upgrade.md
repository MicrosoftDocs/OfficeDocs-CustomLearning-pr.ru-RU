---
author: pkrebs
ms.author: pkrebs
title: Настраиваемое обновление обучения
ms.date: 02/10/2019
description: Настройка настраиваемых веб-частей вручную для Office 365
ms.openlocfilehash: f9729c922b374cc6b775737fa7c7c76a4719534c
ms.sourcegitcommit: b6617bbbaee0784d6216e96052c2469f97cf51e9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/05/2019
ms.locfileid: "30411899"
---
# <a name="manual-upgrade-for-custom-learning"></a>Ручное обновление для настраиваемого обучения

Пользовательское обучение для Office 365 предоставляет ручной процесс обновления для организаций, которые участвовали в предыдущих пилотных испытаниях. В процессе обновления Организации могут продолжать использовать текущий настраиваемый сайт обучения и обновлять, добавляя новую, расширенную пользовательскую веб-часть в свой каталог приложений SharePoint, а затем запуская сценарий PowerShell. Ниже приводится обзор процесса обновления. 

- Проверка того, что пользователь, ответственный за отправку новой веб-части и выполнение скрипта PowerShell, имеет необходимые разрешения
- Отправьте файл веб-части, кустомлеарнинг. sppkg в каталог приложений клиента Office 365.
- Выполнение скрипта PowerShell, который будет настраивать клиент с использованием соответствующих артефактов, необходимых для настраиваемого обучения
- Перейдите на страницу Кустомлеарнингадмин. aspx на настраиваемом сайте обучения, чтобы выполнить инициализацию настраиваемой конфигурации Кконтент.

## <a name="prerequisites"></a>Предварительные требования
Для успешного обновления настраиваемого обучения необходимо соблюдение следующих условий. 

- Необходимо настроить каталог приложений на уровне клиента. Если у вас нет каталога приложений клиента, ознакомьтесь с разделом [Настройка клиента Office 365](https://docs.microsoft.com/en-us/sharepoint/dev/spfx/set-up-your-developer-tenant#create-app-catalog-site) и перейдите к разделу Создание сайта каталога приложений. 
- Если каталог приложений на уровне клиента уже подготовлен, вам необходим доступ к учетной записи, имеющей права на загрузку пакета в него. Как правило, это учетная запись с ролью администратора SharePoint. 
- Если учетная запись с ролью администратора SharePoint не работает: перейдите в центр администрирования SharePoint, выберите каталог приложений, щелкните владельцы и войдите в качестве одного из администраторов семейства веб-сайтов или добавьте учетную запись администратора SharePoint, которая не прошла на сайте. Список администраторов коллекции. 

## <a name="step-1---get-the-web-part-package-and-setup-script-from-github"></a>Шаг 1. получение пакета веб-части и сценария установки из GitHub
В процессе установки потребуется пакет веб-части и сценарий установки PowerShell.

1. Перейдите в [репозиторий настраиваемОго обучения GitHub](https://github.com/pnp/custom-learning-office-365).
2. Нажмите **Копировать или скачать**, а затем **скачайте zip-файл**.   
3. Сохраните **ZIP** -файл в папку на локальном диске.
4. ИзВлеките **ZIP** -файл на локальный диск.

## <a name="step-2---upload-the-web-part-to-the-tenant-app-catalog"></a>Шаг 2: Отправка веб-части в каталог приложений клиента
Чтобы настроить пользовательское обучение для Office 365, отправьте файл кустомлеарнинг. sppkg в каталог приложений на уровне клиента и разверните его. [Используйте каталог приложений, чтобы сделать пользовательские бизнес-приложения доступными в среде SharePoint Online](https://docs.microsoft.com/en-us/sharepoint/use-app-catalog) для получения подробных инструкций по добавлению приложения в каталог приложений.

1. В Office 365 щелкните элемент **Администратор**.
2. В разделе **центры администрирования**щелкните **SharePoint**.
3. Выберите пункт **приложения** > **Каталог** > приложений —**распространение приложений для SharePoint.**
4. Нажмите кнопку **Отправить** > **выберите файлы**.
5. В папке, в которой сохранен ZIP-файл, выберите папку **WebPart** , а затем выберите **кустомлеарнинг. sppkg.**
6. Щелкните **Deploy** (Развернуть).

## <a name="step-5--execute-powershell-configuration-script"></a>Шаг 5: выполнение скрипта настройки PowerShell
Сценарий `CustomLearningConfiguration.ps1` PowerShell включен в загрузку ZIP из GitHub. Для создания трех [свойств клиента](https://docs.microsoft.com/en-us/sharepoint/dev/spfx/tenant-properties) , которые использует решение, необходимо выполнить скрипт. Кроме того, сценарий создает две [страницы односторонних приложений](https://docs.microsoft.com/en-us/sharepoint/dev/spfx/web-parts/single-part-app-pages) в библиотеке страниц сайта, чтобы разместить веб-части "Администратор" и "пользователь" в известном расположении. Эти страницы приложений:

- Кустомадминистратион. aspx
- Кустомвиевер. aspx

### <a name="to-run-the-powershell-script"></a>Запуск скрипта PowerShell
- С помощью PowerShell выполните `CustomLearningConfiguration.ps1` сценарий, расположенный в папке WebPart, из индекса GitHub. В случае успеха вы увидите три пары "ключ-значение" и **пользовательСким администраторОм обучения для отключения...** в командном окне.

### <a name="disabling-telemetry-collection"></a>Отключение коллекции телеметрии
Пользовательское обучение включает в себя анонимное отслеживание телеметрии, для которого по умолчанию установлено значение Вкл. Если вы хотите отключить отслеживание телеметрии, измените `CustomlearningConfiguration.ps1` скрипт, чтобы присвоить `$optInTelemetry` переменной значение. `$false`

## <a name="step-6---initialize-web-part-custom-configuration"></a>Шаг 6: инициализация настраиваемой конфигурации веб-части
После успешного выполнения скрипта PowerShell перейдите в `<YOUR-SITE-COLLECTION-URL>/SitePages/CustomLearningAdmin.aspx`раздел. При открытии **кустомлеарнингадмин. aspx** инициализируется элемент списка **кустомконфиг** , в котором настраивается особое обучение для первого использования. Должна отобразиться страница, которая выглядит следующим образом:

![кг-админапппаже. png](media/cg-adminapppage.png)

## <a name="add-owners-to-site"></a>Добавление владельцев для сайта
Как администратор клиента, маловероятно, чтобы пользователь настраивает сайт, поэтому необходимо назначить сайт нескольким владельцам. Владельцы имеют административные права на сайте, чтобы они могли изменять страницы сайта и изменять фирменный стиль сайта. Они также могут скрывать и показывать контент, доставленный через пользовательскую веб-часть обучения. Они также смогут создавать настраиваемые списки воспроизведения и назначать их настраиваемым подкатегориям.  

1. В меню **Параметры** SharePoint выберите разрешения для **сайта**.
2. Нажмите кнопку **Дополнительные параметры разрешений**.
3. Щелкните **пользовательское обучение для владельцев Office 365**.
4. Нажмите кнопку **создать** > ,**чтобы добавить пользователей в эту группу**, добавьте пользователей, которых вы хотите добавить в группу, а затем нажмите кнопку **общий доступ**.

Теперь обновление завершено. Чтобы узнать больше о том, как настроить пользовательский сайт обучения и веб-часть для вашей среды, ознакомьтесь [со статьЕй Настройка обучающих интерфейсов](custom_overview.md).

## <a name="upgrade-instructions-for-site-owners"></a>Инструкции по обновлению для владельцев сайтов
Пользовательское обучение для Office 365 предлагает ряд усовершенствований веб-части. Работа с веб-частью подробно обсуждается в разделе [Настройка опыта обучения](custom_overview.md) . Теперь владелец сайта должен:  

- Убедитесь, что пользовательская веб-часть Learning for Office 365 доступна. 
- Замена существующей веб-части на страницы новой веб-частью
- Замена ссылок, указывающих на старую веб-часть

### <a name="verify-the-custom-learning-for-office-365-web-part-is-available"></a>Убедитесь, что пользовательская веб-часть Learning for Office 365 доступна
1.  На настраиваемом сайте обучения щелкните **Параметры**, а затем выберите ***Добавить страницу**.
2.  Щелкните **+** значок на странице, чтобы добавить веб-часть, а затем выберите пользовательскую веб-часть **Learning for Office 365** . Теперь страница должна выглядеть приблизительно так, как показано на следующем рисунке:

[кг-админапппаже. png](media/cg-adminapppage.png)
 
### <a name="replace-the-old-web-part-with-the-new-web-part"></a>Замена старой веб-части новой веб-частью
Перед заменой настраиваемой веб-части обучения или внесением изменений на сайт рекомендуется ознакомиться с документацией по [настройке обучающих материалов](custom_overview.md) , как в этом разделе объясняется, как использовать новую веб-часть. 

Чтобы обновить пользовательский сайт обучения, замените существующие экземпляры веб-части новой веб-частью. Несмотря на то, что вы не можете убедиться в том, где была добавлена веб-часть, в руководстве по предыдущим пилотным проектам была добавлена веб-часть на следующие страницы, поэтому необходимо заменить веб-часть на следующих страницах:

- Get-started-with-Office-365. aspx
- Жет-стартед-ВИС-Микрософт-теамс. aspx
- Жет-стартед-ВИС-онедриве. aspx
- Жет-стартед-ВИС-шарепоинт. aspx

### <a name="replace-existing-links-to-the-web-part"></a>Замена существующих ссылок на веб-часть
С помощью расширений новой веб-части пользователи могут изменить ссылку на список воспроизведения. В процессе обновления необходимо заменить все ссылки на веб-части, в том числе элементы меню и ссылки на домашней странице. Перед заменой настраиваемой веб-части обучения или внесением изменений на сайт рекомендуется ознакомиться с документацией по [настройке обучающих материалов](custom_overview.md) , как в этом разделе объясняется, как использовать новую веб-часть. 

## <a name="recreate-existing-playlists"></a>Повторное создание существующих списков воспроизведения 
Чтобы обеспечить правильную работу списков воспроизведения, необходимо повторно создать все списки воспроизведения, созданные с помощью более ранней версии веб-части. Перед удалением списков воспроизведения создайте список настраиваемых списков воспроизведения и связанных с ними ресурсов, чтобы их можно было легко воссоздать с помощью новой настраиваемой веб-части обучения. Создайте копию списка воспроизведения и удалите ее. Можно использовать поле Жсондата для создания копии содержимого списка воспроизведения перед удалением. Это позволит упростить его создание позже.


• На настраиваемом сайте обучения щелкните Параметры _Гт_ контент сайта. • Выберите список воспроизведения, выберите многоточия, нажмите кнопку изменить, а затем скопируйте содержимое поля Жсондата и сохраните его в блокноте или в отдельном документе для последующего использования. Нажмите кнопку Отмена.
• Выберите список воспроизведения, выберите многоточия, а затем нажмите кнопку Удалить.
• Теперь вы можете повторно создать список воспроизведения с помощью новой веб-части.
Инструкции по использованию новой пользовательской веб-части Learning for Office 365 можно найти в https://docs.microsoft.com/en-us/office365/customlearning/custom_overviewразделе.

## <a name="step-8---chan"></a>Шаг 8 — канал

### <a name="next-steps"></a>Следующие действия
- [Настройка](custom_overview.md) обучающих интерфейсов для Организации.


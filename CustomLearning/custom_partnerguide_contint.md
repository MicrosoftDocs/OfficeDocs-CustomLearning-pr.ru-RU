---
author: pkrebs
ms.author: pkrebs
title: Модели интеграции с партнерами
ms.date: 3/9/2019
description: Модели интеграции с партнерами
ms.openlocfilehash: 0d52210c600e14fc9f224fbe6f91645fe4045c45
ms.sourcegitcommit: 6a17a7ab6d28349654520f2c28d08c480e3c7b47
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/08/2019
ms.locfileid: "38076023"
---
# <a name="partner-integration-models"></a>Модели интеграции с партнерами
Несмотря на то, что вы не можете дополнить содержимое Microsoft 365 Learning прямо из поля службы подготовки SharePoint Online, существует несколько моделей интеграции, которые партнеры могут использовать для создания выровненных по значению служб. Приведенные выше модели интеграции с партнерами представлены в порядке возрастания сложности и уровней инвестиций. Поэтому наши рекомендации — это создание опыта и выпускников для более сложных уровней в соответствии с бизнес-моделями.

![кг-парт-интмодел. png](media/cg-part-intmodel.png) 

## <a name="how-should-i-get-started"></a>Как начать? 
Чтобы приступить к работе, ознакомьтесь с приведенными ниже рекомендациями.     

### <a name="1-begin-with-building-expertise-as-an-enabler"></a>1. Начните с создания эксперта в качестве специалиста. 
Вы можете помочь в процентах от своей клиентской базы, дополнив учебный портал "пути для обучения" и выполнив целевую куратион контента Майкрософт. Инструкции по подготовке путей обучения приведены в разделе https://docs.microsoft.com/en-us/office365/customlearning/custom_provision.  

### <a name="2-then-extend-your-services-as-an-integrator"></a>2. Затем Расширьте службы как интегратор
Выполняете автоматизацию возврата инвестиций в зависимости от количества потребностей по интеграции контента и служб. Например, это может быть нецелесообразно для разработки и эксплуатационных затрат, связанных с нашими рекомендациями по интеграции контента, если вы можете быстро вручную создать целевой список воспроизведения, указывающий на вашу подписку или ссылку на службы.

### <a name="3-when-the-return-on-investment-makes-sense--consider-redistribution"></a>3. когда отрентабельность инвестиций имеет смысл — рассмотрите перераспределение 
Если рентабельность инвестиций имеет смысл, рассмотрите возможность перераспределения (или работа со связанными партнерами по обучающим курсам) для создания переупакованных решений. Они основаны на шаблонах SharePoint и среде практики, которые предоставляют решения для извлечения настраиваемых сайтов и последующего развертывания в средах клиентов. 

## <a name="partner-provided-content-integration-guidelines"></a>Рекомендации по интеграции контента, предоставленного партнером
Содержимое для путей обучения Microsoft 365 определяется набором файлов JSON, которые действуют как манифесты контента для вашего пакета обучения. Существует три файла: Metadata. JSON, reсписки. JSON и Assets. JSON. Эти файлы должны быть структурированы для согласования с моделями, которые веб-часть распознает и размещает из сети доставки содержимого (CDN), позволяя веб-части загружать их. Корпорация Майкрософт предоставит стартовые шаблоны этих файлов, чтобы приступить к работе.  

**Заявление об отказе:** структура файлов JSON может изменяться в зависимости от предстоящей работы решения. В программе обучения Microsoft 365 Learning Partner (возможно, на самом ранних стадиях) будет сообщено об изменениях, ожидающих этой природы. Наряду с любыми рекомендациями по обратной совместимости и перехода клиентов. 

### <a name="download-the-microsoft-365-learning-pathways-solution"></a>Скачайте решение Microsoft 365 Learning путей
Вы можете скачать решение Microsoft 365 Learning, а также файлы JSON из репозитория GitHub: https://github.com/pnp/custom-learning-office-365. Обратите внимание, что в настоящее время корпорация Майкрософт не получает запрос на получение GitHub по запросу. Но вы можете использовать файлы GitHub в качестве отправной точки для создания собственного пользовательского пакета содержимого. 

### <a name="metadatajson-structure"></a>Структура Metadata. JSON
Этот файл можно рассматривать как браинс меню и структуры. Он содержит всю структуру навигации, а также списки выбора для данных в двух других файлах. 


|              Имя        |                     Описание                                                               | 
|:-----------------------------|-------------------------------------------------------------------------------------------|
|**Технологически**              |Содержимое размечено тегами и может быть скрыто в зависимости от назначенной им технологии.                 |  
|&nbsp;&nbsp;Кодов                |GUID, представляющий технологию                                                           |  
|&nbsp;&nbsp;Расширением              |Отображаемое имя технологии                                                             |
|&nbsp;&nbsp;*Subjects []*     |Массив субъектов, которые являются подмножеством технологии                                   | 
|&nbsp;&nbsp;&nbsp;&nbsp;Кодов    |GUID, представляющий тему                                                              |
|&nbsp;&nbsp;&nbsp;&nbsp;Расширением  |Отображаемое имя темы                                                                |
|**Категории []**             |Категории информируют навигацию по веб-части. Каждая категория представляет верхний уровень структуры навигации                                                                                                                 |
|&nbsp;&nbsp;Кодов                |GUID, представляющий категорию или подкатегорию                                                 |
|&nbsp;&nbsp;Расширением              |Отображаемое имя категории или подкатегории                                                  |
|&nbsp;&nbsp;Образ             |URL-адрес изображения, которое должно отображаться в UX (относительно базы CDN)            |
|&nbsp;&nbsp;течнологид      |GUID технологии, к которой относится это содержимое (необязательный параметр — пустая строка)            |
|&nbsp;&nbsp;субжектид         |GUID субъекта, с которым связан этот контент (необязательный параметр — пустая строка)               |
|&nbsp;&nbsp;Source            |В исходном массиве, который не используется в UX, Кроме настраиваемых данных, добавленных пользователем, отмечается как "клиент", а область "Администратор UX" запрещает редактирование любых элементов, не помеченных как "клиент".                           |
|&nbsp;&nbsp;*Подкатегории []*|По сути, подкатегории — это уровень навигации на уровне 2 вниз. Структура — это то же самое, что и вложенная Категория.          |
|**Аудитории []**             |Если списки воспроизведения, связанные с категорией или подкатегорией, имеют различные метки аудиторий, будет доступен селектор для отображения доступных аудиторий. |         
|&nbsp;&nbsp;Кодов                |GUID аудитории                                                                       |  
|&nbsp;&nbsp;Расширением              |Отображаемое имя аудитории                                                               |       
|**Sources []**               |Массив строк, которые отмечают контент с исходным кодом, а не специально используются в UX, Кроме настраиваемых данных, добавленных пользователем, помечены как "клиент", а область "Администратор UX" не позволяет редактировать все, что не помечено как "клиент".                                                   |  
|**Levels []**               |Если списки воспроизведения, связанные с категорией/подкатегорией, имеют различные уровни с тегами, селектор будет доступен для отображения доступных уровней.             |  
|&nbsp;&nbsp;Кодов                |GUID уровня                                                                          |  
|&nbsp;&nbsp;Расширением              |Отображаемое имя уровня                                                                  | 
|**Статустаг []**           |Тег Status определяет содержимое с различным состоянием, которое будет доступно в пользовательском интерфейсе. Некоторые из этих флагов будут показываться потребителю и только администратору.                                                   |  
|&nbsp;&nbsp;Кодов                |GUID объекта Статугтаг                                                                      |  
|&nbsp;&nbsp;Расширением              |Отображаемое имя Статустаг                                                              | 
|**Телеметрии []**            |                                                                                           |  
|&nbsp;&nbsp;аппинсигхтскэй    |GUID ключа Application Insights, который настроен для отслеживания загрузки веб-части средства просмотра. Отслеживание может быть отключено администратором для всего клиента, но отправляемые данные анонимно принадлежат пользователю с идентификатором клиента. Дополнительные сведения можно найти в этом разделе.https://github.com/pnp/custom-learning-office-365#disabling-telemetry-collection               |  
|**Версия**                   |Сведения о версии используются решением, чтобы указать администраторам, что веб-часть обновлена, и разрешить веб-части самостоятельно обновлять Настраиваемый контент до последней версии манифеста в случае внесения значительных изменений.         | 
|&nbsp;&nbsp;Явление          |Версия манифеста                                               |
|&nbsp;&nbsp;манифестминвебпарт|Минимальная версия веб-части, которая работает с версией манифеста             |
|&nbsp;&nbsp;куррентвебпарт    |URL-адрес изображения, которое должно отображаться в UX (относительно базы CDN)            |
|&nbsp;&nbsp;Перебетонирование           |URL-адрес репозитория, в котором находятся инструкции по обновлению веб-части.                    |
|**Пакеты содержимого**             |В настоящее время пакеты содержимого для дополнительной сети CDN не поддерживаются. Пакеты содержимого позволяют корпорации Майкрософт предлагать другие решения Майкрософт, которые можно подготовить к работе с помощью службы подготовки, использующей M365LP для доставки контента и самих пользовательских сети CDN.       | 
|&nbsp;&nbsp;Кодов                |GUID пакета содержимого/CDN                                                              |
|&nbsp;&nbsp;Расширением              |Отображаемое имя сети CDN                                                                   |
|&nbsp;&nbsp;Обзор       |Описание, отображаемое в пользовательском интерфейсе для добавления пакета содержимого                               |
|&nbsp;&nbsp;Образ             |Изображение, отображаемое в пользовательском интерфейсе для добавления пакета содержимого                                     |
|&nbsp;&nbsp;провисионурл      |URL-адрес пакета службы подготовки для создания семейства веб-сайтов пакета содержимого  |
|&nbsp;&nbsp;кднбасе           |Базовый URL-адрес для манифестов для пакета содержимого                                       |
|ассеторигинс                  |Массив источника URL-адресов, используемый в файле Asset. JSON, который описывается далее. Если URL-адрес источника поддерживает его, help_getClientHeight будет отправлено сообщение POST. Ответ в свойстве Data объекта: "help_getClientHeight = {Height Content}" (например, "help_getClientHeight = 5769") позволяет изменить размер iFrame до соответствующей высоты фреймового содержимого.         |

### <a name="playlistsjson-structure"></a>Структура списков воспроизведения. JSON
списки воспроизведения. JSON — это массив объектов, описывающих метаданные для списка воспроизведения и ресурсы, включенные в список воспроизведения.

|              Имя        |                     Описание                                                               | 
|:-----------------------------|-------------------------------------------------------------------------------------------|
|Id                            |GUID, представляющий список воспроизведения                                                             |  
|Title                         |Отображаемое имя списка воспроизведения                                                               |
|Изображение                         |Относительный URL-адрес (из сети CDN) к изображению для отображения списка воспроизведения                              |                      
|левелид                       |Связанный уровень                                                                           |
|аудиенцеид                   |Связанная аудитория                                                                        |
|течнологид                 |Связанная технология                                                                      |
|субжектид                    |Отображаемое имя категории или подкатегории                                                  |
|Источник                        |В исходном массиве, который не используется в UX, Кроме настраиваемых данных, добавленных пользователем, отмечается как "клиент", а область "Администратор UX" не позволяет редактировать все, что не помечено как "клиент".                                              |
|Идентификатор                         |Идентификатор категории или подкатегории, представляющий контейнер, в котором должен отображаться список воспроизведения. В настоящее время манифест не поддерживает выбор категории или подкатегории в качестве контейнера, если у него также есть дочерние категории.        |
|Описание                   |Описание, которое отображалось для каждого списка воспроизведения в UX                                           |
|статустагид                   |Связанный тег состояния                                                                      |
|статусноте                    |Заметки о контенте, отображаемом для администраторов                                            |
|*Активы []*                        |Массив GUID для ресурсов, входящих в этот список, в порядке отображения.        |         

### <a name="assetjson-structure"></a>Структура Asset. JSON
списки воспроизведения. JSON — это массив объектов, описывающих метаданные для списка воспроизведения и ресурсы, включенные в список воспроизведения.

|              Имя        |                     Описание                                                               | 
|:-----------------------------|-------------------------------------------------------------------------------------------|
|Id                            |GUID, представляющий список воспроизведения                                                             |  
|Title                         |Отображаемое имя списка воспроизведения                                                               |
|Описание                   |---                                                                                           |                      
|URL-адрес                           |URL-адрес источника актива, который будет применен к iFrame                                  |
|течнологид                  |Связанная технология                                                                      |
|субжектид                     |Связанная тема                                                                         |
|Источник                        |Отображаемое имя категории или подкатегории                                                  |
|статустагид                   |Связанный тег состояния                                                                      |
|статусноте                    |Заметки о контенте, отображаемом для администраторов.                                           |

### <a name="caching"></a>Кэширование
В текущей версии веб-части средства просмотра используется кэшированная версия файлов манифеста в течение 24 часов. Через 24 часа первый пользователь, который попадет в веб-часть, предпринимает снижение производительности при загрузке манифестов из исходной сети CDN и слияние этих сведений с другими скрытыми технологиями и списками воспроизведения, а также слиянием в пользовательских подкатегориях, списках воспроизведения и ресурсах. Альтернативная веб-часть администрирования всегда загружает содержимое из манифестов и объединяет их в кэш и обновляет.  Другими словами, администратор может принудительно обновить кэш в любое время, загрузив веб-часть "Администратор", используя веб-часть "Администрирование".

## <a name="content-pack-guidelines"></a>Рекомендации по использованию пакетов содержимого
Функция пакета содержимого разблокирует следующие сценарии:
- Возможность партнеров для распространения настраиваемого обучающего контента, настроенного в среде клиентов
- Возможность организации со строгой учебной группой и поддержкой ИТ для создания настраиваемого обучающих материалов, направленных на собственные внутренние системы и управление
- Возможность Майкрософт предоставлять дополнительные обучающие пути в будущем, к которым клиенты могут отказаться

Этот текущий набор документации намеренно ориентирован на партнеров из-за сложности функции. Группа обслуживания активно работает с целью улучшения поддержки и включения сценариев #2 в будущем. 

### <a name="how-content-packs-work"></a>Принципы работы пакетов содержимого
Майкрософт использует страницы GitHub в качестве источника сети доставки содержимого (CDN) для файлов манифеста и изображений. У нас есть папка "документы" в корне нашего репозитория GitHub, которая содержит вложенные папки для каждой версии файлов манифеста. Внутри каждой папки существует три файла манифеста, а также папка изображений для хранения всех категорий, подкатегорий и изображений списков воспроизведения. 

Важно поддерживать ту же структуру управления версиями, которую корпорация Майкрософт должна использовать для расширения решения "обучающие пути" с помощью собственного пакета содержимого. Конечная точка CDN не должна содержать папку Version, так как версия манифеста, поддерживаемая веб-частью, бакед в нее и автоматически добавляется к URL-адресу CDN. Очевидно, что мы предоставим вам время для создания новых экземпляров файлов манифеста во время их изменения.

![кг-парт-жсон-фолдер. png](media/cg-part-json-folder.png) 

Для получения дополнительных сведений об использовании страниц GitHub в качестве источника сети CDN обратитесь к следующей справочной документации [https://help.github.com/en/articles/configuring-a-publishing-source-for-github-pages](https://help.github.com/en/articles/configuring-a-publishing-source-for-github-pages):.

Решение корпорации Майкрософт предоставляет сведения о ресурсах, открытых в общедоступном виде, без защиты пользователей, у которых есть доступ к этим файлам. Мы считаем, что должен существовать бесплатный слой контента для потребителя, который сказал, что если у вас есть потребность в оплате для некоторых или всех ваших материалов, вам потребуется реализовать эту возможность по-разному в технических ограничениях решения и использовании страниц GitHub без требования. Любой поставщик CDN, который вы хотите использовать, прекрасно подходит, если вы настроили структуру нумерации версий, которую мы выстроили. Как отмечалось выше, версия структуры манифеста, поддерживаемая веб-частью, бакед в код и автоматически добавляется к URL-адресу CDN. 

### <a name="content-pack-integration-guidance"></a>Руководство по интеграции пакета содержимого 
Веб-части "Администратор" и "Просмотр" были расширены, чтобы позволить потребителю настраивать дополнительные конечные точки CDN в клиенте, что позволит веб-части средства просмотра выбрать, какие сети CDN будут источником отображаемых данных. 

Основные варианты кадров, которые необходимо учитывать для этой функции: 
- Это основной вариант, который применяется для сценариев перераспределения партнеров, в которых Настройка неручного воспроизведения выполняется слишком громоздкими 
- Настраиваемые пакеты содержимого являются дополнительным компонентом и должны использоваться только партнерами, имеющими возможности администрирования веб-контента. Ненадежные источники контента могут привести к небезопасному контенту сайта. Следует добавлять только те источники, которым вы доверяете.

> **Важно!** Перед добавлением настраиваемого пакета содержимого необходимо подготовить подготовленные к работе Microsoft 365 обучающие пути 3,0 или более поздние версии. Для информатаион о подготовке путей обучения Microsoft 365 вы найдете в [статье Подготовка путей обучения microsoft 365](https://docs.microsoft.com/en-us/office365/customlearning/custom_provision).

### <a name="content-whitelisting"></a>Вхителистинг контента
В качестве партнера вы обязаны помочь своим клиентам убедиться в том, что ваш контент внесены в своей среде. Мы рекомендуем создать тестовый сценарий в своей среде, чтобы убедиться в том, что контент может быть iFrame в страницу SharePoint в своем брандмауэре. Следуйте инструкциям в статье [Создание страниц SharePoint для настраиваемых списков воспроизведения](https://docs.microsoft.com/en-us/office365/customlearning/custom_createnewpage) , чтобы убедиться, что это так.

### <a name="add-a-content-pack-to-learning-pathways"></a>Добавление пакета содержимого для изучения путей
После создания измененного формата JSON и определения сети CDN можно добавить пакет контактных данных для изучения путей. 

1. На **домашней** странице сайта пути для обучения наведите указатель на пункт **Домашняя** и щелкните **обучение администрирование**. 
2. На странице " **Администрирование** " нажмите кнопку **... Добавьте пакет содержимого** в правом верхнем углу страницы.
3. Щелкните настраиваемый пакет содержимого, а затем введите имя пакета содержимого, а затем укажите сеть CDN, в которой расположены файлы JSON.

![кг-парт-аддконпакк. png](media/cg-part-addconpack.png)

4. Нажмите кнопку **Сохранить**. Контент из настраиваемого пакета содержимого теперь должен появиться на странице администрирования. Пример: 

![кг-парт-аддконпаккекс. png](media/cg-part-addconpackex.png)

### <a name="filter-to-the-content-pack-in-the-web-part"></a>Фильтрация пакета содержимого в веб-части
С помощью путей обучения можно добавить на страницу веб-часть "пути для обучения", отфильтровать веб-часть, чтобы она ссылалась на настраиваемый источник содержимого, а затем отфильтровать веб-часть по нужной категории, подкатегории, списку воспроизведения и активу. 

1. На сайте пути для обучения щелкните **создать**, а затем **страница**.
2. Нажмите кнопку **пусто**, а затем — **создать страницу**.
3. Присвойте странице имя. 
4. Нажмите кнопку **+ Добавить новый раздел** в левой части страницы.
5. Щелкните **+** в верхней части нового раздела и добавьте веб-часть " **пути для обучения Microsoft 365** ".
6. Щелкните веб-часть, а затем щелкните значок **редактирования** .
7. В поле **выберите источник обучения** выберите настраиваемый пакет содержимого, а затем отфильтруйте веб-часть в нужном контенте. Ниже приведен пример веб-части, отфильтрованной в списке воспроизведения из настраиваемого пакета содержимого.

![кг-парт-конпаккфилтер. png](media/cg-part-conpackfilter.png)  




